<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Thu Apr 10 12:18:27 CEST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DynamicDelayingLockFactory (Crawler :: Mother POM 0.5-SNAPSHOT API)</title>
<meta name="date" content="2014-04-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DynamicDelayingLockFactory (Crawler :: Mother POM 0.5-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamicDelayingLockFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/DelayingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html" target="_top">Frames</a></li>
<li><a href="DynamicDelayingLockFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.gbif.crawler.xml.crawlserver.util.ForwardingLockFactory">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.gbif.crawler.xml.crawlserver.util</div>
<h2 title="Class DynamicDelayingLockFactory" class="title">Class DynamicDelayingLockFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.google.common.collect.ForwardingObject</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util">org.gbif.crawler.xml.crawlserver.util.ForwardingLockFactory</a></li>
<li>
<ul class="inheritance">
<li>org.gbif.crawler.xml.crawlserver.util.DynamicDelayingLockFactory</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.gbif.wrangler.lock.LockFactory</dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../../../src-html/org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#line.36">DynamicDelayingLockFactory</a>
extends <a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util">ForwardingLockFactory</a></pre>
<div class="block">A lock factory that forwards all calls to another Lock Factory but delays unlocking for a certain amount of time.
 This can be used to make sure that we don't tax the resources of providers too much. The delay depends on three
 factors but by default it is the amount of time that the lock was taken out for. So if we held the lock for one
 second then we're going to delay unlocking for another second. A minimum (default = 100ms and maximum (default = 2s)
 delay must be specified and we're never going to delay less or more than those bounds.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.gbif.crawler.xml.crawlserver.util.ForwardingLockFactory">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.gbif.crawler.xml.crawlserver.util.<a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util">ForwardingLockFactory</a></h3>
<code><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.ForwardingLock.html" title="class in org.gbif.crawler.xml.crawlserver.util">ForwardingLockFactory.ForwardingLock</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#DEFAULT_MAX_DELAY">DEFAULT_MAX_DELAY</a></strong></code>
<div class="block">Default maximum value of milliseconds that unlock operations are delayed if no other value is given.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#DynamicDelayingLockFactory(org.gbif.wrangler.lock.LockFactory)">DynamicDelayingLockFactory</a></strong>(org.gbif.wrangler.lock.LockFactory&nbsp;delegateFactory)</code>
<div class="block">Builds a delaying lock factory that delays every unlock operation by a certain amount of time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#DynamicDelayingLockFactory(org.gbif.wrangler.lock.LockFactory, long, long)">DynamicDelayingLockFactory</a></strong>(org.gbif.wrangler.lock.LockFactory&nbsp;delegateFactory,
                                                    long&nbsp;minDelay,
                                                    long&nbsp;maxDelay)</code>
<div class="block">Builds a delaying lock factory that delays every unlock operation by a user-specified amount of milliseconds.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.gbif.wrangler.lock.LockFactory</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#delegate()">delegate</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.gbif.wrangler.lock.Lock</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#makeLock(java.lang.String)">makeLock</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.gbif.crawler.xml.crawlserver.util.ForwardingLockFactory">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.gbif.crawler.xml.crawlserver.util.<a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util">ForwardingLockFactory</a></h3>
<code><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html#clearLock(java.lang.String)">clearLock</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.google.common.collect.ForwardingObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.google.common.collect.ForwardingObject</h3>
<code>toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_MAX_DELAY">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_MAX_DELAY</h4>
<pre>public static final&nbsp;long <a href="../../../../../../src-html/org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#line.84">DEFAULT_MAX_DELAY</a></pre>
<div class="block">Default maximum value of milliseconds that unlock operations are delayed if no other value is given.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.gbif.crawler.xml.crawlserver.util.DynamicDelayingLockFactory.DEFAULT_MAX_DELAY">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DynamicDelayingLockFactory(org.gbif.wrangler.lock.LockFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DynamicDelayingLockFactory</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#line.105">DynamicDelayingLockFactory</a>(org.gbif.wrangler.lock.LockFactory&nbsp;delegateFactory)</pre>
<div class="block">Builds a delaying lock factory that delays every unlock operation by a certain amount of time. The exact delay
 depends on three factors: The time the lock was taken out (i.e. time between acquiring the lock and releasing it),
 but it will always be between the provided minimum and maximum delay.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delegateFactory</code> - to forward calls to</dd></dl>
</li>
</ul>
<a name="DynamicDelayingLockFactory(org.gbif.wrangler.lock.LockFactory, long, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DynamicDelayingLockFactory</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#line.115">DynamicDelayingLockFactory</a>(org.gbif.wrangler.lock.LockFactory&nbsp;delegateFactory,
                          long&nbsp;minDelay,
                          long&nbsp;maxDelay)</pre>
<div class="block">Builds a delaying lock factory that delays every unlock operation by a user-specified amount of milliseconds.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delegateFactory</code> - to forward calls to</dd><dd><code>maxDelay</code> - in milliseconds</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="makeLock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeLock</h4>
<pre>public&nbsp;org.gbif.wrangler.lock.Lock&nbsp;<a href="../../../../../../src-html/org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#line.125">makeLock</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>makeLock</code>&nbsp;in interface&nbsp;<code>org.gbif.wrangler.lock.LockFactory</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html#makeLock(java.lang.String)">makeLock</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util">ForwardingLockFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="delegate()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delegate</h4>
<pre>protected&nbsp;org.gbif.wrangler.lock.LockFactory&nbsp;<a href="../../../../../../src-html/org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html#line.130">delegate</a>()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html#delegate()">delegate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util">ForwardingLockFactory</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamicDelayingLockFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/DelayingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/gbif/crawler/xml/crawlserver/util/ForwardingLockFactory.html" title="class in org.gbif.crawler.xml.crawlserver.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/gbif/crawler/xml/crawlserver/util/DynamicDelayingLockFactory.html" target="_top">Frames</a></li>
<li><a href="DynamicDelayingLockFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.gbif.crawler.xml.crawlserver.util.ForwardingLockFactory">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.gbif.org">Global Biodiversity Information Facility</a>. All rights reserved.</small></p>
</body>
</html>
